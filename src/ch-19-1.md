# 第十九章 需要添加的部分

## 待添加主要功能

- 修改假期统计时间
- 完善按比例外出和休假
- 假期超假的计算
- 人员调离问题（优先级低点）
- 大门口岗哨操作页面
- 临时单位的人员处理

## 休假假期统计时间

对已有的 `tbl_statistics_holiday` 进行操作。主要修改其中的
+ `day_total` 总天数，是包括路途天数、去年所借假期、今年奖励假期的总天数
+ `day_path` 路途天数。
+ `day_lend_nextyear`，去年所借假期。
+ `day_add` 今年奖励或者扣除的假期。
+ 上面的计算方式为 `day_total` = `day_path` - `day_lend_nextyear` + `day_add` + `今年应有假期`

**解释**
上面的计算需要人工计算，暂时不提供自主计算。
由于现在技术所限，对于 JavaScript 所知不多，以后改版的话，考虑加入根据所填数据，自动计算总天数。

### 设置总天数和路途页面

由于设置的不够智能，需要提供比较详细的操作说明。

只有总天数和路途天数可以设置，其他的都是只读模式。

这个已经实现了。

### 设置加减假期页面

会自动计算总天数和剩余假期的。
只可以设置天数和奖励说明，不可以修改其他信息。修改完毕后跳转到休假统计信息页面。
这个需要单独说明了。每次填写都是单次的，不会统计以前的。但是会在最上方提示已经添加的假期。

加减假期分为两种情况，一种是直接加在今年上面的，一种是需要从明年的假期中扣除一部分假期的添加的本年度的。
实现的话，这些是需要记录在案的。这个可以实现了。

专门新建了一个添加假期的 *./frontend/models/AddHolidayForm.php* 用于显示页面中需要添加的信息。
这样可以较好的更新 `tbl_statistics_holiday` 中的数据，避免每次都需要计算和添加。

## 假期超假的计算（2016.04.12）

今天不做了，明天处理。